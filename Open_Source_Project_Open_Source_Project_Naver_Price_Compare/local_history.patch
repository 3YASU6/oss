Index: app/src/main/res/layout/activity_show_more_item_info.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/activity_show_more_item_info.xml	(date 1528857120417)
+++ app/src/main/res/layout/activity_show_more_item_info.xml	(date 1528857120417)
@@ -15,15 +15,6 @@
         android:layout_marginBottom="15dp"
         android:text="@string/addToWishListButtonText" />
 
-    <ImageView
-        android:id="@+id/itemImage"
-        android:layout_width="336dp"
-        android:layout_height="217dp"
-        android:layout_alignParentTop="true"
-        android:layout_centerHorizontal="true"
-        android:layout_marginTop="9dp"
-        app:srcCompat="@android:drawable/ic_menu_camera" />
-
     <TextView
         android:id="@+id/lpriceText"
         android:layout_width="341dp"
@@ -50,4 +41,12 @@
         android:layout_centerHorizontal="true"
         android:layout_marginBottom="100dp"
         android:text="@string/mallName" />
+
+    <WebView
+        android:id="@+id/imageurl"
+        android:layout_width="333dp"
+        android:layout_height="200dp"
+        android:layout_alignParentStart="true"
+        android:layout_alignParentTop="true"
+        android:layout_marginStart="30dp" />
 </RelativeLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/Naver_API.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/Naver_API.java	(date 1528857120412)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/Naver_API.java	(date 1528857120412)
@@ -12,6 +12,7 @@
 import android.os.Bundle;
 import android.os.Handler;
 import android.os.Message;
+import android.widget.ImageView;
 import android.widget.TextView;
 
 
@@ -165,7 +166,7 @@
 
     public String[] getImage()
     {
-        return getImage();
+        return image;
     }
 
     public String[] getIprice()
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/GraphActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/GraphActivity.kt	(date 1528857120397)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/GraphActivity.kt	(date 1528857120397)
@@ -25,6 +25,7 @@
 import com.github.mikephil.charting.data.LineDataSet
 import com.github.mikephil.charting.data.LineRadarDataSet
 import com.github.mikephil.charting.interfaces.datasets.ILineDataSet
+import kotlinx.android.synthetic.main.activity_show_more_item_info.*
 
 
 class GraphActivity : AppCompatActivity() {
@@ -49,84 +50,90 @@
         // 배경색을 설정
         mChart.setBackgroundColor(Color.WHITE)
 
-        // TODO: FireBase에서 끌고 온 상품 가격변동 정보들을 저장 (가격 = price)  ※지금은 더미
-        val price_from_fireBase = arrayOf(900f,900f,1000f,1200f,1200f,800f,750f)
-        // TODO: FireBase에서 끌고 온 상품 가격변동 정보들을 저장 (날짜 = date)  ※지금은 더미
-        val date_from_fireBase = arrayOf(1f, 2f, 3f,4f,5f,6f,7f)
+        val swapVariable = intent.extras
+        if (swapVariable != null) {
+            val getName = swapVariable.get("title") as String
+            titleText.setText(getName)
+            val getiprice = swapVariable.get("iprice") as String
+            priceText.setText(getiprice)
+            val getmallname = swapVariable.get("mallname") as String
+            mallNameText.setText(getmallname)
+            val getimage = swapVariable.get("image") as String
+            println("====================" + getimage)
+            imageurl.loadUrl(getimage)
+
+            // TODO: FireBase에서 끌고 온 상품 가격변동 정보들을 저장 (가격 = price)  ※지금은 더미
+            val price_from_fireBase = arrayOf(900f, 900f, 1000f, 1200f, 1200f, 800f, 750f)
+            // TODO: FireBase에서 끌고 온 상품 가격변동 정보들을 저장 (날짜 = date)  ※지금은 더미
+            val date_from_fireBase = arrayOf(1f, 2f, 3f, 4f, 5f, 6f, 7f)
 
-        // 그래프의 Point가 되는 데이터 배열
-        val xy_data = ArrayList<Entry>()
+            // 그래프의 Point가 되는 데이터 배열
+            val xy_data = ArrayList<Entry>()
 
-        // FireBase에서 끌고 온 Date, Price를 그래프 Point(x값, y값)로 설정
-        for(i in date_from_fireBase.indices) {
-            xy_data.add(Entry(date_from_fireBase[i],price_from_fireBase[i])) // xy값(=Entry)를 xy_data에 설정 (X = date_data, Y = price_data)
-        }
+            // FireBase에서 끌고 온 Date, Price를 그래프 Point(x값, y값)로 설정
+            for (i in date_from_fireBase.indices) {
+                xy_data.add(Entry(date_from_fireBase[i], price_from_fireBase[i])) // xy값(=Entry)를 xy_data에 설정 (X = date_data, Y = price_data)
+            }
 
-        // xy_data를 LineDataSet인 set에 저장
-        val set = LineDataSet(xy_data, "Price_History")
+            // xy_data를 LineDataSet인 set에 저장
+            val set = LineDataSet(xy_data, "Price_History")
 
-        //LineDataSet를 생성하고 set를 놓기
-        val dataSet = ArrayList<ILineDataSet>()
-        dataSet.add(set)
+            //LineDataSet를 생성하고 set를 놓기
+            val dataSet = ArrayList<ILineDataSet>()
+            dataSet.add(set)
 
-        //  LineData인 data에 dataSet 놓기
-        val data = LineData(dataSet)
-        data.setValueTextColor(Color.BLACK)
+            //  LineData인 data에 dataSet 놓기
+            val data = LineData(dataSet)
+            data.setValueTextColor(Color.BLACK)
 
-        // 그래프에 데이터를 추가
-        mChart.setData(data)
+            // 그래프에 데이터를 추가
+            mChart.setData(data)
 
-        //  라인의 rabel를 설정
-        val l = mChart.getLegend()
-        l.setForm(Legend.LegendForm.LINE)
-        l.setTextColor(Color.BLACK)
+            //  라인의 rabel를 설정
+            val l = mChart.getLegend()
+            l.setForm(Legend.LegendForm.LINE)
+            l.setTextColor(Color.BLACK)
 
-        val xl = mChart.getXAxis()
-        xl.setLabelCount(9)
-        xl.setPosition(XAxis.XAxisPosition.BOTTOM)
-        xl.setTextColor(Color.BLACK)
+            val xl = mChart.getXAxis()
+            xl.setLabelCount(9)
+            xl.setPosition(XAxis.XAxisPosition.BOTTOM)
+            xl.setTextColor(Color.BLACK)
 
-        val leftAxis = mChart.getAxisLeft()
-        leftAxis.setTextColor(Color.BLACK)
-        leftAxis.setDrawGridLines(true)
+            val leftAxis = mChart.getAxisLeft()
+            leftAxis.setTextColor(Color.BLACK)
+            leftAxis.setDrawGridLines(true)
 
-        val rightAxis = mChart.getAxisRight()
-        rightAxis.setEnabled(false)
+            val rightAxis = mChart.getAxisRight()
+            rightAxis.setEnabled(false)
 
 
-        //buyButton click시 발생하는 event
-        buyButton.setOnClickListener{
-            // 해당 상품에 이동
-            //Naver_API.link
-          //  Uri.parse("https://developer.android.com/reference/android/net/Uri")
+            //buyButton click시 발생하는 event
+            buyButton.setOnClickListener {
+                // 해당 상품에 이동
+                //Naver_API.link
+                //  Uri.parse("https://developer.android.com/reference/android/net/Uri")
 
-        }
+            }
 
-        //delete button click시 발생하는 event
-        deleteButton.setOnClickListener {
-            val builder =  AlertDialog.Builder(this)
-            builder.setMessage(getString(R.string.messageOfDeleteDialog))
-            builder.setTitle(getString(R.string.titleOfDeleteDialog))
-            builder.setPositiveButton("YES"){dialog, which ->
-                // YES를 눌렀을 때 발생돼는 event를 여기에 기술
-                // Item을 DB에서 삭제
+            //delete button click시 발생하는 event
+            deleteButton.setOnClickListener {
+                val builder = AlertDialog.Builder(this)
+                builder.setMessage(getString(R.string.messageOfDeleteDialog))
+                builder.setTitle(getString(R.string.titleOfDeleteDialog))
+                builder.setPositiveButton("YES") { dialog, which ->
+                    // YES를 눌렀을 때 발생돼는 event를 여기에 기술
+                    // Item을 DB에서 삭제
 
 
-
-
-
-
-
-
-
-                // Toast로 삭제 완료됐음을 표시
-                Toast.makeText(applicationContext, getString(R.string.deleteFinishedMessage), Toast.LENGTH_SHORT).show()
-            }
-            builder.setNeutralButton("Cancel"){_,_ ->
-            }
-            val dialog: AlertDialog = builder.create()
-            dialog.show()
+                    // Toast로 삭제 완료됐음을 표시
+                    Toast.makeText(applicationContext, getString(R.string.deleteFinishedMessage), Toast.LENGTH_SHORT).show()
+                }
+                builder.setNeutralButton("Cancel") { _, _ ->
+                }
+                val dialog: AlertDialog = builder.create()
+                dialog.show()
 
+            }
         }
     }
 }
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/LoginActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/LoginActivity.kt	(date 1528857120407)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/LoginActivity.kt	(date 1528857120407)
@@ -104,58 +104,58 @@
      * ↓↓지금은 개발단계니까 로그인 양식 체크 기능은 comment out 합니다. 개발가 어느정도 종료되면 comment 해제 할 것
      */
     private fun attemptLogin() {
-//       if (mAuthTask != null) {
-//            return
-//        }
-//
-//        // 오류 Reset
-//        email.error = null
-//        password.error = null
-//
-//        /** Store values at the time of the login attempt
-//         * 로그인 시도시 값 저장
-//         */
-//        val emailStr = email.text.toString()
-//        val passwordStr = password.text.toString()
-//
-//        var cancel = false
-//        var focusView: View? = null
-//
-//        /** Check for a valid password, if the user entered one.
-//         * 사용자가 암호를 입력 한 경우 올바른 암호인지 확인.
-//         */
-//        if (!TextUtils.isEmpty(passwordStr) && !isPasswordValid(passwordStr)) {
-//            password.error = getString(R.string.error_invalid_password)
-//            focusView = password
-//            cancel = true
-//        }
-//
-//        /** Check for a valid email address.
-//         * 유효한 이메일 주소인지 확인.
-//         */
-//        if (TextUtils.isEmpty(emailStr)) {
-//            email.error = getString(R.string.error_field_required)
-//            focusView = email
-//            cancel = true
-//        } else if (!isEmailValid(emailStr)) {
-//            email.error = getString(R.string.error_invalid_email)
-//            focusView = email
-//            cancel = true
-//        }
-//
-//        if (cancel) {
-//            /** There was an error; don't attempt login and focus the first form field with an error.
-//             *오류가있었음; 로그인을 시도하지 말고 오류가있는 첫 번째 양식 필드에 초점을 맞 춥음.
-//             */
-//            focusView?.requestFocus()
-//        } else {
-//            /** Show a progress spinner, and kick off a background task to perform the user login attempt.
-//             * 진행률을 표시하고 백그라운드 작업을 시작하여 사용자 로그인 시도를 수행
-//             */
-//            showProgress(true)
-//            mAuthTask = UserLoginTask(emailStr, passwordStr)
-//            mAuthTask!!.execute(null as Void?)
-//        }
+       if (mAuthTask != null) {
+            return
+        }
+
+        // 오류 Reset
+        email.error = null
+        password.error = null
+
+        /** Store values at the time of the login attempt
+         * 로그인 시도시 값 저장
+         */
+        val emailStr = email.text.toString()
+        val passwordStr = password.text.toString()
+
+        var cancel = false
+        var focusView: View? = null
+
+        /** Check for a valid password, if the user entered one.
+         * 사용자가 암호를 입력 한 경우 올바른 암호인지 확인.
+         */
+        if (!TextUtils.isEmpty(passwordStr) && !isPasswordValid(passwordStr)) {
+            password.error = getString(R.string.error_invalid_password)
+            focusView = password
+            cancel = true
+        }
+
+        /** Check for a valid email address.
+         * 유효한 이메일 주소인지 확인.
+         */
+        if (TextUtils.isEmpty(emailStr)) {
+            email.error = getString(R.string.error_field_required)
+            focusView = email
+            cancel = true
+        } else if (!isEmailValid(emailStr)) {
+            email.error = getString(R.string.error_invalid_email)
+            focusView = email
+            cancel = true
+        }
+
+        if (cancel) {
+            /** There was an error; don't attempt login and focus the first form field with an error.
+             *오류가있었음; 로그인을 시도하지 말고 오류가있는 첫 번째 양식 필드에 초점을 맞 춥음.
+             */
+            focusView?.requestFocus()
+        } else {
+            /** Show a progress spinner, and kick off a background task to perform the user login attempt.
+             * 진행률을 표시하고 백그라운드 작업을 시작하여 사용자 로그인 시도를 수행
+             */
+            showProgress(true)
+            mAuthTask = UserLoginTask(emailStr, passwordStr)
+            mAuthTask!!.execute(null as Void?)
+        }
 
         // wishList에 이동
         val mainIntent = Intent(this, ItemListActivity::class.java)
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemListActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemListActivity.kt	(date 1528858064205)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemListActivity.kt	(date 1528858064205)
@@ -28,7 +28,7 @@
 //import org.junit.experimental.results.ResultMatchers.isSuccessful
 import android.support.annotation.NonNull
 import com.google.android.gms.tasks.Task
-
+import com.example.kimhy.open_source_project_naver_price_compare.ShowMoreItemInfoActivity
 
 class ItemListActivity : AppCompatActivity() {
 
@@ -49,6 +49,7 @@
         val aa:String
         val i_price:String
         val mall_name:String
+
         val intent = intent
         val bd = intent.extras
         val ti = intent.getStringExtra("title")
@@ -63,64 +64,100 @@
         var data_array_items = Array(display, { i -> "Title-$i" })
         var data_array_iprice = Array(display, { i -> "Price-$i" })
 
-        //set the text in the textview
-        if (bd != null) {
-            //  get data from database
-            db.get().addOnCompleteListener(OnCompleteListener<DocumentSnapshot> { task ->
-                if (task.isSuccessful) {
-                    //FireBase에서 전체 데이터를 취득
-                    val ALL_DB_Data = task.result.data.toString()
+        //==================get data from database //
+//            db.collection("items")
+//                    .get()
+//                    .addOnCompleteListener(OnCompleteListener<QuerySnapshot> { task ->
+//                        if (task.isSuccessful) {
+//                            val notesList = mutableListOf<ItemListActivity>()
+//                            for (document in task.result) {
+//
+//                                Log.d("tag", document.id + " => " + document.data)
+//                                list_member.add(Item(document.get("%name%").toString()))
+//                                println(document.data.toString())
+//
+//                            }
+//                            val adapter = ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, data_array_items)
+//                            listView.setAdapter(adapter)
+//                        } else {
+//                            Log.d("tag", "Error getting documents: ", task.exception)
+//                        }
+//                    })
+//            val item = HashMap<String, Any>()
+
+        db.collection("items").document("Title").get().addOnCompleteListener(OnCompleteListener<DocumentSnapshot> { task ->
+            if (task.isSuccessful) {
+                    //if can't read the data
+                } else {
+                    //set the text in the textview
+                    if (bd != null) {
+                        //  get data from database
+                        db.get().addOnCompleteListener(OnCompleteListener<DocumentSnapshot> { task ->
+                            if (task.isSuccessful) {
+                                //FireBase에서 전체 데이터를 취득
+                                var ALL_DB_Data = task.result.data.toString()
+                                ALL_DB_Data = ""
 
-                    if (ALL_DB_Data.isNullOrEmpty()) { // ALL_DB_Data가 null or 비어있을때
+                                if (ALL_DB_Data.isNullOrEmpty()) { // ALL_DB_Data가 null or 비어있을때
 
-                        Toast.makeText(this, "no such a data", Toast.LENGTH_LONG).show()
+                                    Toast.makeText(this, "no such a data", Toast.LENGTH_LONG).show()
 
-                    } else {
-                        // ALL_DB_Data 내용 : name*****=*****,mall_name1=***,iprice1=****
-                        // name_temp 내용 : name***** ↓첫번째 = 이전 문자를 취득
-                        val name_temp = ALL_DB_Data.substringBefore('=')
-                        // Item_name 내용 : ***** ↓앞에서 5번째 문자 이후의 문자열을 취득
-                        val item_name = name_temp.substring(5)
+                                } else {
+                                    // ALL_DB_Data 내용 : name*****=*****,mall_name1=***,iprice1=****
+                                    // name_temp 내용 : name***** ↓첫번째 = 이전 문자를 취득
+                                    val name_temp = ALL_DB_Data.substringBefore('=')
+                                    // Item_name 내용 : ***** ↓앞에서 5번째 문자 이후의 문자열을 취득
+                                    val item_name = name_temp.substring(5)
 
-                        // Item_price 내용 : **** ↓마지막 = 이후 문자를 취득
-                        val Item_price = ALL_DB_Data.substringAfter('=')
+                                    // Item_price 내용 : **** ↓마지막 = 이후 문자를 취득
+                                    val Item_price = ALL_DB_Data.substringAfter('=')
 
-
-
-
-                        Toast.makeText(this,item_name, Toast.LENGTH_LONG).show()
-                    }
-                } else {
-                    Toast.makeText(this, "get failed with" + task.exception, Toast.LENGTH_LONG).show()
-                }
-            })
+                                    Toast.makeText(this, item_name, Toast.LENGTH_LONG).show()
+                                }
+                            } else {
+                                Toast.makeText(this, "get failed with" + task.exception, Toast.LENGTH_LONG).show()
+                            }
+                        })
 
-        }
-        val adapter = ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, data_array_items)
-        thisView.adapter = adapter
-
-//        val database = FirebaseDatabase.getInstance()
-//        val ref = database.getReference("server/saving-data/fireblog")
-//        val myRef = database.getReference("message")
+                    }
+                    val adapter = ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, data_array_items)
+                    thisView.adapter = adapter
+                
+                }
 
-
-
-
-            // item click시 발생하는 event
-            thisView.setOnItemClickListener { _, view, _, _ ->
-                // activity_graph 화면에 이동
-                val intent = Intent(this, GraphActivity::class.java)
-                startActivity(intent)
-            }
+                // item click시 발생하는 event
+                thisView.setOnItemClickListener { parent, view, position, id ->
+                    adapter.getItem(position)
+                    data_array_items.get(position)
+                    val title_sub: String = data_array_items.get(position)
+                    //   val iprice: String = data_array_iprice.get(position)
+                    //   val mallname: String = data_array_mallname.get(position)
+                    //  val image: String = data_array_image.get(position)
+                    Toast.makeText(this, "Position Clicked:" + " " + title_sub, Toast.LENGTH_SHORT).show()
+//                detailintent.putExtra("title", title_sub);
+//                detailintent.putExtra("iprice", iprice);
+//                detailintent.putExtra("mallname", mallname);
+//                detailintent.putExtra("image", image);
+                    // activity_graph 화면에 이동
+
+                    val detailintent = Intent(this, GraphActivity::class.java)
+                    detailintent.putExtra("title", title_sub);
+                    //     detailintent.putExtra("iprice", iprice);
+                    //   detailintent.putExtra("mallname", mallname);
+                    //  detailintent.putExtra("image", image);
+                    startActivity(detailintent)
+                }
 
 
-            // add button click시 발생하는 event
-            addButton.setOnClickListener {
-                val intent = Intent(this, ItemSearchActivity::class.java)
-                startActivity(intent)
+                // add button click시 발생하는 event
+                addButton.setOnClickListener {
+                    val intent = Intent(this, ItemSearchActivity::class.java)
+                    startActivity(intent)
+                }
             }
-
 
         }
     }
-
+class Item(
+        var item: String
+)
\ No newline at end of file
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemSearchActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemSearchActivity.kt	(date 1528857120402)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ItemSearchActivity.kt	(date 1528857120402)
@@ -31,6 +31,8 @@
         var data_array_iprice = Array(display, { i -> "Price-$i" })
         var data_array_mallname = Array(display, { i -> "Mallname-$i" })
         var data_array_link = Array(display, { i -> "Link-$i" })
+        var data_array_image = Array(display, { i -> "Image-$i" })
+
         val adapter = ArrayAdapter<String>(this, android.R.layout.simple_list_item_1, data_array_items)
         listView.adapter = adapter
 
@@ -76,6 +78,9 @@
                 var link: Array<String>? = null
                 link = thread.getLink()
 
+                var image: Array<String>? = null
+                image = thread.getImage()
+
                 //https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-array/index.html
                 //https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/with-index.html
                 //http://codetravel.tistory.com/17
@@ -102,6 +107,9 @@
                     data_array_link.set(index, value)
 
                 }
+                for ((index, value) in image.withIndex()) {
+                    data_array_image.set(index, value)
+                }
 
                 val fix: Array<String>? = title
                 return false
@@ -115,6 +123,7 @@
             val title_sub: String = data_array_items.get(position)
             val iprice: String = data_array_iprice.get(position)
             val mallname: String = data_array_mallname.get(position)
+            val image: String = data_array_image.get(position)
             Toast.makeText(this, "Position Clicked:"+" "+title_sub,Toast.LENGTH_SHORT).show()
             val detailintent = Intent(this, ShowMoreItemInfoActivity::class.java)
 
@@ -122,6 +131,7 @@
             detailintent.putExtra("title", title_sub);
             detailintent.putExtra("iprice", iprice);
             detailintent.putExtra("mallname", mallname);
+            detailintent.putExtra("image", image);
             startActivity(detailintent)
         }
     }
Index: app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ShowMoreItemInfoActivity.kt
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ShowMoreItemInfoActivity.kt	(date 1528857120413)
+++ app/src/main/java/com/example/kimhy/open_source_project_naver_price_compare/ShowMoreItemInfoActivity.kt	(date 1528857120413)
@@ -1,12 +1,20 @@
 package com.example.kimhy.open_source_project_naver_price_compare
 
 import android.content.Intent
+import android.graphics.Bitmap
+import android.net.Uri
 import android.support.v7.app.AppCompatActivity
 import android.os.Bundle
 import android.widget.Toast
 import com.google.firebase.firestore.FirebaseFirestore
 import kotlinx.android.synthetic.main.activity_item_list.*
 import kotlinx.android.synthetic.main.activity_show_more_item_info.*
+import retrofit2.http.Url
+import java.net.URL
+import java.time.LocalDate
+import java.time.LocalDateTime
+import java.time.format.DateTimeFormatter
+import java.time.format.FormatStyle
 
 class ShowMoreItemInfoActivity : AppCompatActivity() {
 
@@ -14,8 +22,8 @@
         super.onCreate(savedInstanceState)
         setContentView(R.layout.activity_show_more_item_info)
         val  db = FirebaseFirestore.getInstance()
-                .document("items/detail")
-       // val db = FirebaseFirestore.get
+              //  .document("items/detail")
+
 
         val name:String
         val titleitem:String
@@ -37,14 +45,21 @@
             lpriceText.setText(getiprice)
             val getmallname = swapVariable.get("mallname") as String
             mallNameText.setText(getmallname)
+            val getimage = swapVariable.get("image") as String
+            println("===================="+getimage)
+            imageurl.loadUrl(getimage)
 
 
         }
+//        val today = LocalDate.of(2027, 12, 1)
+//        println(today)
+
         //to take the data into string
         var flavour = tileText.text.toString().trim()
         name_item = tileText.getText().toString()
         i_price = lpriceText.getText().toString()
         mall_name = mallNameText.getText().toString()
+
 //        titleitem = trytext.getText().toString()
 
 //        val itemss = HashMap<String, Any>()
@@ -53,10 +68,8 @@
 //                // put the data in string database
 //
 //                itemss.put("name", "Samsung")
-//                itemss.put("iprice", "2500000")
-//                itemss.put("mall_name", "Shinsaegae")
 //                // insert the database to firebase
-//                db.set(itemss).addOnSuccessListener {
+//                db.collection("itemName").document("detail").set(itemss).addOnSuccessListener {
 //                    void: Void? -> Toast.makeText(this, "Successfully uploaded to the database :)", Toast.LENGTH_LONG).show()
 //
 //                }.addOnFailureListener {
@@ -74,16 +87,25 @@
         //==============add and insert to database
 
         val items = HashMap<String, Any>()
+        val item = HashMap<String, Any>()
         if (flavour!=null) {
             try {
                 // put the data in string database
 
-                items.put("name"+name_item, name_item)
-                items.put("iprice1", i_price)
-                items.put("mall_name1", mall_name)
+                items.put("name", name_item)
+                item.put("name", name_item)
+                items.put("iprice", i_price)
+                items.put("mall_name", mall_name)
                 // insert the database to firebase
 
-                db.collection(name_item).document("details").set(items).addOnSuccessListener {
+                db.collection("items").document(name_item).set(items).addOnSuccessListener {
+                    void: Void? -> Toast.makeText(this, "Successfully uploaded to the database :)", Toast.LENGTH_LONG).show()
+
+                }.addOnFailureListener {
+                    // if the data failure
+                    exception: java.lang.Exception -> Toast.makeText(this, exception.toString(), Toast.LENGTH_LONG).show()
+                }
+                db.collection("items").document("Title").update(item).addOnSuccessListener {
                     void: Void? -> Toast.makeText(this, "Successfully uploaded to the database :)", Toast.LENGTH_LONG).show()
 
                 }.addOnFailureListener {
@@ -98,14 +120,7 @@
             Toast.makeText(this, "Please fill up the fields :(", Toast.LENGTH_LONG).show()
         }
 
-//        if (titleitem!=null){
-//            items2.put("name1", aa)
-//            items2.put("iprice1", i_price)
-//            items2.put("mall_name1", mall_name)
-//            db.update(items2).addOnSuccessListener {
-//                void: Void? -> Toast.makeText(this, "Successfully uploaded to the database :)", Toast.LENGTH_LONG).show() }
-//        }
-//
+
 
         // addToWishListButton click시 발생하는 event를 추가
         addToWishListButton.setOnClickListener {
Index: app/build/generated/source/r/debug/com/example/kimhy/open_source_project_naver_price_compare/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/com/example/kimhy/open_source_project_naver_price_compare/R.java	(date 1528857227612)
+++ app/build/generated/source/r/debug/com/example/kimhy/open_source_project_naver_price_compare/R.java	(date 1528857227612)
@@ -3827,10 +3827,10 @@
     public static final int icon_only=0x7f08005d;
     public static final int ifRoom=0x7f08005e;
     public static final int image=0x7f08005f;
-    public static final int info=0x7f080060;
-    public static final int invisible=0x7f080061;
-    public static final int italic=0x7f080062;
-    public static final int itemImage=0x7f080063;
+    public static final int imageurl=0x7f080060;
+    public static final int info=0x7f080061;
+    public static final int invisible=0x7f080062;
+    public static final int italic=0x7f080063;
     public static final int item_touch_helper_previous_elevation=0x7f080064;
     public static final int largeLabel=0x7f080065;
     public static final int left=0x7f080066;
Index: app/build/generated/source/r/debug/android/support/v4/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/v4/R.java	(date 1528857227890)
+++ app/build/generated/source/r/debug/android/support/v4/R.java	(date 1528857227890)
@@ -92,8 +92,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
Index: app/build/generated/source/r/debug/android/support/v7/appcompat/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/v7/appcompat/R.java	(date 1528857227902)
+++ app/build/generated/source/r/debug/android/support/v7/appcompat/R.java	(date 1528857227902)
@@ -635,8 +635,8 @@
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
         public static final int image = 0x7f08005f;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
Index: app/build/generated/source/r/debug/android/support/v7/recyclerview/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/v7/recyclerview/R.java	(date 1528857227910)
+++ app/build/generated/source/r/debug/android/support/v7/recyclerview/R.java	(date 1528857227910)
@@ -101,8 +101,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int item_touch_helper_previous_elevation = 0x7f080064;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
Index: app/build/generated/source/r/debug/android/support/compat/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/compat/R.java	(date 1528857227779)
+++ app/build/generated/source/r/debug/android/support/compat/R.java	(date 1528857227779)
@@ -75,8 +75,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
         public static final int normal = 0x7f08007a;
Index: app/build/generated/source/r/debug/android/support/coreui/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/coreui/R.java	(date 1528857227796)
+++ app/build/generated/source/r/debug/android/support/coreui/R.java	(date 1528857227796)
@@ -86,8 +86,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
Index: app/build/generated/source/r/debug/android/support/design/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/design/R.java	(date 1528857227817)
+++ app/build/generated/source/r/debug/android/support/design/R.java	(date 1528857227817)
@@ -806,8 +806,8 @@
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
         public static final int image = 0x7f08005f;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int item_touch_helper_previous_elevation = 0x7f080064;
         public static final int largeLabel = 0x7f080065;
         public static final int left = 0x7f080066;
Index: app/build/generated/source/r/debug/android/support/fragment/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/fragment/R.java	(date 1528857227826)
+++ app/build/generated/source/r/debug/android/support/fragment/R.java	(date 1528857227826)
@@ -86,8 +86,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
Index: app/build/generated/source/r/debug/android/support/graphics/drawable/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/graphics/drawable/R.java	(date 1528857227844)
+++ app/build/generated/source/r/debug/android/support/graphics/drawable/R.java	(date 1528857227844)
@@ -75,8 +75,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
         public static final int normal = 0x7f08007a;
Index: app/build/generated/source/r/debug/android/support/graphics/drawable/animated/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/graphics/drawable/animated/R.java	(date 1528857227853)
+++ app/build/generated/source/r/debug/android/support/graphics/drawable/animated/R.java	(date 1528857227853)
@@ -86,8 +86,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int left = 0x7f080066;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
Index: app/build/generated/source/r/debug/android/support/coreutils/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/coreutils/R.java	(date 1528857227805)
+++ app/build/generated/source/r/debug/android/support/coreutils/R.java	(date 1528857227805)
@@ -75,8 +75,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
         public static final int normal = 0x7f08007a;
Index: app/build/generated/source/r/debug/android/support/constraint/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/constraint/R.java	(date 1528857227788)
+++ app/build/generated/source/r/debug/android/support/constraint/R.java	(date 1528857227788)
@@ -74,7 +74,7 @@
         public static final int direct = 0x7f080045;
         public static final int end = 0x7f08004b;
         public static final int gone = 0x7f080058;
-        public static final int invisible = 0x7f080061;
+        public static final int invisible = 0x7f080062;
         public static final int left = 0x7f080066;
         public static final int none = 0x7f080079;
         public static final int packed = 0x7f08007e;
Index: app/build/generated/source/r/debug/android/support/transition/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/transition/R.java	(date 1528857227870)
+++ app/build/generated/source/r/debug/android/support/transition/R.java	(date 1528857227870)
@@ -76,8 +76,8 @@
         public static final int ghost_view = 0x7f080057;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
         public static final int normal = 0x7f08007a;
Index: app/build/generated/source/r/debug/android/support/mediacompat/R.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/build/generated/source/r/debug/android/support/mediacompat/R.java	(date 1528857227861)
+++ app/build/generated/source/r/debug/android/support/mediacompat/R.java	(date 1528857227861)
@@ -81,8 +81,8 @@
         public static final int forever = 0x7f080056;
         public static final int icon = 0x7f08005b;
         public static final int icon_group = 0x7f08005c;
-        public static final int info = 0x7f080060;
-        public static final int italic = 0x7f080062;
+        public static final int info = 0x7f080061;
+        public static final int italic = 0x7f080063;
         public static final int line1 = 0x7f080068;
         public static final int line3 = 0x7f080069;
         public static final int media_actions = 0x7f080072;
